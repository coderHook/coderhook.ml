<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.26" />
  <meta name="author" content="Pedro Abel Diaz">
  <meta name="description" content="Self-taugh Full Stack Web Developer &amp; Data Scientist">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  

  <link rel="alternate" href="https://coderhook-ml.firebaseapp.com/index.xml" type="application/rss+xml" title="coderHook">
  <link rel="feed" href="https://coderhook-ml.firebaseapp.com/index.xml" type="application/rss+xml" title="coderHook">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="https://coderhook-ml.firebaseapp.com/project/descriptive_statistics/">

  

  <title> Using Descriptive Statitics with Python and Pandas.  | coderHook</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">coderHook</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  
<div class="article-header">
  <img src="/img/desc_statistics.png" class="article-banner" itemprop="image">
  
</div>



  <div class="article-container">

    <div class="pub-title">
      <h1 itemprop="name"> Using Descriptive Statitics with Python and Pandas. </h1>
      <span class="pub-authors" itemprop="author">&nbsp;</span>
      <span class="pull-right">
        
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fcoderhook-ml.firebaseapp.com%2fproject%2fdescriptive_statistics%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=%20Using%20Descriptive%20Statitics%20with%20Python%20and%20Pandas.%20&amp;url=https%3a%2f%2fcoderhook-ml.firebaseapp.com%2fproject%2fdescriptive_statistics%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fcoderhook-ml.firebaseapp.com%2fproject%2fdescriptive_statistics%2f&amp;title=%20Using%20Descriptive%20Statitics%20with%20Python%20and%20Pandas.%20"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fcoderhook-ml.firebaseapp.com%2fproject%2fdescriptive_statistics%2f&amp;title=%20Using%20Descriptive%20Statitics%20with%20Python%20and%20Pandas.%20"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=%20Using%20Descriptive%20Statitics%20with%20Python%20and%20Pandas.%20&amp;body=https%3a%2f%2fcoderhook-ml.firebaseapp.com%2fproject%2fdescriptive_statistics%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


      </span>
    </div>

    

    <div class="article-style" itemprop="articleBody">
      

<h1 id="using-descriptive-statitics-with-python-and-pandas">Using Descriptive Statitics with Python and Pandas.</h1>

<ul>
<li>In this notebook we are going to calculate the mean, Variance and standard deviation, CoVariance and Correlation and we are going to see it through some data visualizations to understand more in deep what we are doing.</li>
</ul>

<pre><code class="language-python">%matplotlib inline

import matplotlib.pyplot as plt
import pandas as pd
movie_reviews = pd.read_csv(&quot;https://raw.githubusercontent.com/fivethirtyeight/data/master/fandango/fandango_score_comparison.csv&quot;)

scores = [&quot;RT_user_norm&quot;, &quot;Metacritic_user_nom&quot;, &quot;Fandango_Ratingvalue&quot;, &quot;IMDB_norm&quot;]

fig = plt.figure(figsize=(5, 12))
for i, sc in enumerate(scores):
    fig.add_subplot(4, 1, i+1)
    ax = movie_reviews[sc].plot(kind='hist')
    ax.set_xlim([0, 5])
    ax.set_ylabel('')
    ax.set_title(sc)
    ax.grid()

plt.show()

</code></pre>

<p><img src="/img/ds/descriptive_statistics/output_1_0.png" alt="png" /></p>

<h1 id="mean">Mean</h1>

<ul>
<li>let&rsquo;s calculate some statistical measures to see how the properties the histograms suggested are reflected in numerical values.</li>
</ul>

<pre><code class="language-python">def calc_mean(data):
    mean = data.mean()
    return mean

sel_cols = ['RT_user_norm', 'Metacritic_user_nom', 'Fandango_Ratingvalue', 'IMDB_norm']

user_review = movie_reviews[sel_cols]

rt_mean, mc_mean, fg_mean, id_mean = user_review.apply(calc_mean)

print(rt_mean)
</code></pre>

<pre><code>3.19383561644
</code></pre>

<pre><code class="language-python">print(mc_mean)
</code></pre>

<pre><code>3.2595890411
</code></pre>

<pre><code class="language-python">print(fg_mean, id_mean)
</code></pre>

<pre><code>3.84520547945 3.36849315068
</code></pre>

<h1 id="variance-and-standard-deviation">Variance And Standard Deviation</h1>

<ul>
<li>It seems like the Fandango user reviews have the highest mean and skew the most towards to the higher end compared to the other review sites. Let&rsquo;s now calculate variance and standard deviation to better understand the spreads.</li>
</ul>

<pre><code class="language-python">
def calc_mean(series):
    vals = series.values
    mean = sum(vals) / len(vals)
    return mean

def calc_variance(series):
    mean = calc_mean(series)
    variance = [ (x - mean) **2 for x in series]
    variance = sum(variance) / len(variance)
    return variance

def calc_stdev(series):
    variance = calc_variance(series)
    return variance ** (1/2)

rt_var, mc_var, fg_var, id_var = user_review.apply(calc_variance)
rt_stdev, mc_stdev, fg_stdev, id_stdev = user_review.apply(calc_stdev)

</code></pre>

<pre><code class="language-python">print(rt_var, mc_var, fg_var, id_var)
</code></pre>

<pre><code>0.995578438731 0.566654625633 0.251107149559 0.228219647213
</code></pre>

<pre><code class="language-python">print(rt_stdev, mc_stdev, fg_stdev, id_stdev)
</code></pre>

<pre><code>0.997786770173 0.752764654878 0.501105926486 0.47772340032
</code></pre>

<h1 id="scatter-plots">Scatter Plots</h1>

<ul>
<li>Let&rsquo;s now explore if Fandango&rsquo;s user ratings are at least relatively correct. More precisely, are movies that are highly rated on Rotten Tomatoes, IMDB, and Metacritic also highly rated on Fandango?</li>
</ul>

<pre><code class="language-python">import matplotlib.pyplot as plt
fig = plt.figure(figsize = (4, 8))
scores = [&quot;RT_user_norm&quot;, &quot;Metacritic_user_nom&quot;, &quot;IMDB_norm&quot;, &quot;Fandango_Ratingvalue&quot;]
for i in range(0,3):
    fig.add_subplot(3, 1, i+1)
    ax = plt.scatter(movie_reviews[scores[i]], movie_reviews[scores[3]])    
    plt.xlim(0.0, 5.0)

plt.show()
</code></pre>

<p><img src="/img/ds/descriptive_statistics/output_13_0.png" alt="png" /></p>

<h1 id="covariance">COVariance</h1>

<ul>
<li><p>It seems like Rotten Tomatoes and IMDB user reviews correlate the most with Fandango user reviews while Metacritic only weakly correlates.</p></li>

<li><p>Let&rsquo;s write a function that to calculates the covariance values in this screen and a function to calculate the correlation values in the next screen.</p></li>
</ul>

<p>Here&rsquo;s the formula for computing the covariance between 2 variables: cov(x,y)=∑(xi−x¯)(yi−y¯)/n.</p>

<pre><code class="language-python">def calc_covariance(x, y):
    x_mean = calc_mean(x)
    y_mean = calc_mean(y)

    x_diff = [nx - x_mean for nx in x]
    y_diff = [ny - y_mean for ny in y]

    xy_mult = [ (x_diff[i] * y_diff[i]) for i in range(0,len(x_diff))]

    covariance = sum(xy_mult) / len(x)

    return covariance

scores = [&quot;RT_user_norm&quot;, &quot;Metacritic_user_nom&quot;, &quot;IMDB_norm&quot;, &quot;Fandango_Ratingvalue&quot;]

rt_fg_covar = calc_covariance(movie_reviews[scores[0]], movie_reviews[scores[3]])
mc_fg_covar = calc_covariance(movie_reviews[scores[1]], movie_reviews[scores[3]])
id_fg_covar = calc_covariance(movie_reviews[scores[2]], movie_reviews[scores[3]])

</code></pre>

<pre><code class="language-python">print(rt_fg_covar, mc_fg_covar, id_fg_covar)
</code></pre>

<pre><code>0.362162225558 0.127100769375 0.143718802777
</code></pre>

<h1 id="correlation">Correlation</h1>

<ul>
<li>Interestingly, Rotten Tomatoes covaries strongly with Fandango (0.36) compared to Metacritic (0.13) and IMDB (0.14).</li>

<li><p>Let&rsquo;s calculate the correlation values by using the calc_covariance a function from the previous step.</p></li>

<li><p>Here&rsquo;s the full formula for correlation:</p></li>
</ul>

<p>cov(x,y)/σxσy.</p>

<p>where cov is shorthand for the covariance function, and σ represents the standard deviation.</p>

<pre><code class="language-python">def calc_correlation(x, y):
    covariance = calc_covariance(x, y)
    correlation = covariance / ((calc_variance(x) ** (1/2)) * (calc_variance(y) ** (1/2)))

    return correlation


rt_fg_corr = calc_correlation(movie_reviews[&quot;RT_user_norm&quot;], movie_reviews[&quot;Fandango_Ratingvalue&quot;])
mc_fg_corr = calc_correlation(movie_reviews[&quot;Metacritic_user_nom&quot;], movie_reviews[&quot;Fandango_Ratingvalue&quot;])
id_fg_corr = calc_correlation(movie_reviews[&quot;IMDB_norm&quot;], movie_reviews[&quot;Fandango_Ratingvalue&quot;])
</code></pre>

<pre><code class="language-python">print(rt_fg_corr, mc_fg_corr, id_fg_corr)
</code></pre>

<pre><code>0.724328994249 0.336945314265 0.600354177263
</code></pre>

<ul>
<li>As the scatter plots suggested, Rotten Tomatoes and IMDB correlate the strongest with Fandango, with correlation values of 0.72 and 0.60 respectively. Metacritic, on the other hand, only has a correlation value of 0.34 with Fandango.</li>
<li>While covariance and correlation values may seem complicated to compute and hard to reason with, their best use case is in comparing relationships like we did in this challenge.</li>
</ul>

<pre><code class="language-python">
</code></pre>

    </div>

  </div>
</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="https://coderhook-ml.firebaseapp.com/project/thanksgivingcelebrating/"><span
      aria-hidden="true">&larr;</span> Exploring the tendencies in Celebrating Thanksgiving. </a></li>
    

    
  </ul>
</nav>

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 coderHook &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

